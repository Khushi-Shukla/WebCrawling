from flask import Flask, request, render_template, jsonify
import Scraping

# dummydata= [[{'Name': 'Anuj Garg', 'Job Title': 'No results', 'Company': 'Google', 'College': 'No results', 'Location': 'Bengaluru, Karnataka, India', 'URL': 'https://uk.linkedin.com/in/keenwarrior?original_referer='}, {'Name': 'Anuj Agrawal', 'Job Title': 'No results', 'Company': 'Zyoin', 'College': 'National Institute of Technology Karnataka', 'Location': 'Bangalore Urban district, India', 'URL': 'https://uk.linkedin.com/in/anujagrawalzyoin'}, {'Name': 'Anuj B.', 'Job Title': 'Digital Professional in International Market | IG Growth ðŸš€\n#SocialMedia Expert | Helping Brands build their presence online ðŸ’»  DM to know more', 'Company': 'ConfidÃªncial', 'College': 'ICFAI University', 'Location': 'Jaipur, Rajasthan, India', 'URL': 'https://uk.linkedin.com/in/anuj-b-97a299104'}, {'Name': 'No results', 'Job Title': 'No results', 'Company': 'No results', 'College': 'No results', 'Location': 'No results', 'URL': 'https://www.linkedin.com/authwall?trk=gf&trkInfo=AQEj_05fr8ah9wAAAZD3xpy4lVxY_oZEWpt5salBZEnQ5Zzg9YYu0xUsmpE_QO1bZKOfyMfzzzAt_7kX6vFJ1mP2x7L9XWT_AuHr0cG5pqbF_dvlO-QC87Yfs2MzosayHiDCdH0=&original_referer=&sessionRedirect=https%3A%2F%2Fuk.linkedin.com%2Fin%2Fanuj-chadha-executive-coach'}, {'Name': 'No results', 'Job Title': 'No results', 'Company': 'No results', 'College': 'No results', 'Location': 'No results', 'URL': 'https://www.linkedin.com/authwall?trk=bf&trkInfo=AQEz2yxJ54PFeAAAAZD3xvKo7nDAVPpnnbjPZMplrQr0tQ7OckoUHpvBnQoS5UkpklZTujoLWoMym80dQX785xN8jnIKO2uicRQjjIO45FKZ-TGTORttqgwZDhR9lBGnY4l0GFQ=&original_referer=&sessionRedirect=https%3A%2F%2Fuk.linkedin.com%2Fin%2Fanujduggal21'}, {'Name': 'No results', 'Job Title': 'No results', 'Company': 'No results', 'College': 'No results', 'Location': 'No results', 'URL': 'https://www.linkedin.com/authwall?trk=gf&trkInfo=AQF97JF1N_vl9gAAAZD3xzj4M0tY6dKmsVDgm8MO8A_dupb138-Nixwp8zgl3GJneaAB3oGnZtC_mxHVi3iwro7i5bksKBh71hNoVXzhGrrMRJ5WSaR6rJ7pJhKimxc6IedC_Vk=&original_referer=&sessionRedirect=https%3A%2F%2Fuk.linkedin.com%2Fin%2Fanujsinghal12'}, {'Name': 'No results', 'Job Title': 'No results', 'Company': 'No results', 'College': 'No results', 'Location': 'No results', 'URL': 'https://www.linkedin.com/authwall?trk=bf&trkInfo=AQGrY8E4mlWp7gAAAZD3x4MwqI0U6T_j-Ufgx5fghYT8amU-yXIqsfVLM5CMLD7bzp1Q9Korb61CoA1UerC_pBiA6T8b6_E9jYBNAtkilHw9wk0MbCRYM9wphH9ryt2hdv3FGEE=&original_referer=&sessionRedirect=https%3A%2F%2Fuk.linkedin.com%2Fin%2Fanujenergy14'}], [{'Friend_count': None, 'Follower_count': None, 'Following_count': None, 'cover_photo': 'https://scontent.fdel2-2.fna.fbcdn.net/v/t39.30808-6/412672355_385752660478670_3673401149154184684_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=106&ccb=1-7&_nc_sid=4cb600&efg=eyJpIjoidCJ9&_nc_ohc=duywuMOYnhcQ7kNvgE9MXIS&_nc_ht=scontent.fdel2-2.fna&oh=00_AYBfx29pcPiV2tQZTVZs2WrFrh2kvcH-Uc8XufhHJXUShg&oe=66AB9A1C&manual_redirect=1', 'profile_picture': 'https://scontent.fdel2-3.fna.fbcdn.net/v/t39.30808-6/449159328_490614449992490_5622520164809544043_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=101&ccb=1-7&_nc_sid=d0a8c7&efg=eyJpIjoidCJ9&_nc_ohc=lcfpopwD0U0Q7kNvgGkpKv8&_nc_ht=scontent.fdel2-3.fna&oh=00_AYB5ENnDVnZwqa0MvQp-s3APNLfONSgxqWFbVz9vTPsfGA&oe=66ABBD34&manual_redirect=1', 'Name': 'ANUJ', 'Work': 'N/A', 'Education': 'N/A', 'Places lived': 'N/A', 'Contact Info': {'Address': 'Lucknow, India', 'Facebook': '/anuj0fficial', 'Websites': ['https://youtube.com/channel/UCcUlKLzbPQA6NMKrVemUxuw']}, 'Basic info': 'Date of birth', 'Relationship': 'N/A', 'About': 'N/A', 'Life events': '', 'Favourite Quotes': 'N/A'}, {'Friend_count': None, 'Follower_count': None, 'Following_count': None, 'cover_photo': 'https://scontent.fdel2-2.fna.fbcdn.net/v/t1.6435-9/137516576_237172297773878_9030265608654276584_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=109&ccb=1-7&_nc_sid=18dec1&efg=eyJpIjoidCJ9&_nc_ohc=s8HQ3D2QcxQQ7kNvgEvcDVC&_nc_ht=scontent.fdel2-2.fna&oh=00_AYDMwreR4nbK7vF9nr5GDmN8DKj4cGxEWIEni913h44FRg&oe=66CD5824&manual_redirect=1', 'profile_picture': 'https://scontent.fdel2-2.fna.fbcdn.net/v/t1.6435-9/137346826_237171911107250_8032066710784071865_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=109&ccb=1-7&_nc_sid=5fa763&efg=eyJpIjoidCJ9&_nc_ohc=RGCiQBZBuIYQ7kNvgEg3gGV&_nc_ht=scontent.fdel2-2.fna&oh=00_AYBhNYIwUlln_K71Jwt_gjN6l61gejArhhyfStl6vLqZvg&oe=66CD2A52&manual_redirect=1', 'Name': 'Anuj Sachdeva', 'Work': 'N/A', 'Education': 'N/A', 'Places lived': 'N/A', 'Contact Info': {'Facebook': '/ApnAnuj', 'Websites': ['http://www.anujsachdeva.com/']}, 'Basic info': 'Date of birth', 'Relationship': 'N/A', 'About': 'N/A', 'Life events': '', 'Favourite Quotes': 'N/A'}, {'Friend_count': None, 'Follower_count': None, 'Following_count': None, 'cover_photo': None, 'profile_picture': 'https://scontent.fdel2-2.fna.fbcdn.net/v/t39.30808-6/277530139_409059861025258_8895012477007705328_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=111&ccb=1-7&_nc_sid=d0a8c7&efg=eyJpIjoidCJ9&_nc_ohc=sw-Hc5E0T_sQ7kNvgF0nHW-&_nc_ht=scontent.fdel2-2.fna&oh=00_AYDxL5NXQwRi9n-F7aQZiCTvNxZcSMK9CxL55hsH29pafg&oe=66ABB22D&manual_redirect=1', 'Name': 'Anuj Rawat', 'Work': 'N/A', 'Education': 'N/A', 'Places lived': 'N/A', 'Contact Info': {'Facebook': '/anujrwt17'}, 'Basic info': 'Date of birth', 'Relationship': 'N/A', 'About': 'N/A', 'Life events': '', 'Favourite Quotes': 'N/A'}, {'Friend_count': None, 'Follower_count': None, 'Following_count': None, 'cover_photo': None, 'profile_picture': 'https://scontent.fdel2-3.fna.fbcdn.net/v/t39.30808-6/366740293_787516910045308_8354561904091808253_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=108&ccb=1-7&_nc_sid=d0a8c7&efg=eyJpIjoidCJ9&_nc_ohc=ZBgMCnZVDrkQ7kNvgHe7uh5&_nc_ht=scontent.fdel2-3.fna&oh=00_AYDcxrzp3O5ag-H0qf1Adg416jq5GdyPRn3GjdqC3IIadw&oe=66ABA283&manual_redirect=1', 'Name': 'Anuj Sullere', 'Work': 'N/A', 'Education': 'N/A', 'Places lived': 'N/A', 'Contact Info': {'Address': 'Mumbai, India', 'Facebook': '/Sullere.Anuj'}, 'Basic info': 'Date of birth', 'Relationship': 'N/A', 'About': 'N/A', 'Life events': '', 'Favourite Quotes': 'N/A'}, {'Friend_count': 4921, 'Follower_count': None, 'Following_count': None, 'cover_photo': 'https://scontent.fdel2-3.fna.fbcdn.net/v/t39.30808-6/411894839_10159345246686557_7595337418531029512_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=104&ccb=1-7&_nc_sid=4cb600&efg=eyJpIjoidCJ9&_nc_ohc=pCruX-4GBVYQ7kNvgHykcsj&_nc_ht=scontent.fdel2-3.fna&oh=00_AYBISRVpV5I6YmwClM_G0F7GUB2koLzp8HlsdEGswIHgZw&oe=66ABAB33&manual_redirect=1', 'profile_picture': 'https://scontent.fdel2-2.fna.fbcdn.net/v/t39.30808-6/336720043_3482085802035263_2749764318780733547_n.jpg?stp=cp0_dst-jpg_e15_fr_q65&_nc_cat=107&ccb=1-7&_nc_sid=d0a8c7&efg=eyJpIjoidCJ9&_nc_ohc=8PA0-muOU_kQ7kNvgHMwfbp&_nc_ht=scontent.fdel2-2.fna&oh=00_AYC5nzFgfXNt83_DCbSBp4zxKB3YO6oBP04nDzsR458pjg&oe=66ABAC89&manual_redirect=1', 'Name': 'Anuj Dhar', 'Work': 'N/A', 'Education': 'N/A', 'Places lived': [{'link': '/profile.php?id=105741049460348&eav=AfYs6pU1poSrUZzz6qspFeIIRW8TgbH3qlV-8Sk_affCevg61szEZLkNrlLiEgqtG3s&paipv=0', 'text': 'New Delhi', 'type': 'Current town/city'}], 'Contact Info': {'Facebook': '/anujdhar', 'Websites': ['https://www.amazon.in/Books-Anuj-Dhar/s?rh=n%3A976389031%2Cp_27%3AAnuj+Dhar']}, 'Basic info': 'N/A', 'Relationship': 'N/A', 'About': 'N/A', 'Life events': '', 'Favourite Quotes': 'N/A'}], [{'Username': 'anujpanditsharma', 'Full Name': 'Anuj Sharmma', 'Bio': 'Co-founder @pagalpanktifilms \n@disneyplushotstar - Bamini and boys\n@sonytvofficial - Parvarish season 2\n@sonysab - Aadat se majboor', 'Profile Picture URL': "https://instagram.fdel2-2.fna.fbcdn.net/v/t51.2885-19/407943394_703405685097031_7129446018757153751_n.jpg?stp=dst-jpg_s320x320&_nc_ht=instagram.fdel2-2.fna.fbcdn.net&_nc_cat=107&_nc_ohc=dY7bmPXz378Q7kNvgGaOXiH&edm=AOQ1c0wBAAAA&ccb=7-5&oh=00_AYBl29MqBwD3B1yeJgElx-CoFDYK6ub41UEhs0VpJbZKUw&oe=66ABB6AB&_nc_sid=8b3546", 'Followers': 124433, 'Following': 667, 'Number of Posts': 397, 'Is Private': False, 'Is Verified': True}]]

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/profile', methods=['POST'])
def profile():
    try:
        input_type = request.form['input_type']
        input_value = request.form['input_value']
        if input_type == 'email':
            # Process email input
            scraped_data = Scraping.Scraping(input_value, 'email')
        elif input_type == 'phone':
            # Process phone input
            scraped_data = Scraping.Scraping(input_value, 'phone')
        else:
            scraped_data = {"error": "Invalid input type"}
        
        return render_template('result.html', data=scraped_data)
    
        # return render_template('result.html', data=dummydata)
        
    
    except Exception as e:
        app.logger.error(f"Exception: {e}")
        return jsonify({"PARESHAANI app.py mai": str(e)}), 500

if __name__ == '__main__':
    app.run(debug=True)




